// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema


generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url = env("POSTGRES_PRISMA_URL") // uses connection pooling
  directUrl = env("POSTGRES_URL_NON_POOLING") // uses a direct connection
}

model User {
  id            Int   @id @default(autoincrement())
  name          String
  email         String  @unique
  gender        String
  password      String

  biodata Biodata?
  documents Document[]
}

model Biodata {
  id                  Int     @id @default(autoincrement())
  userId              Int     @unique
  fullName            String
  nisn                String
  nik                 String
  birthDate           DateTime
  nationality         String
  phoneNumber         String
  address             String
  fatherName          String
  fatherNik           String
  fatherBirthdate     DateTime
  fatherOccupation     String
  fatherEducation     String
  fatherSalary        String
  motherName          String
  motherNik           String
  motherBirthdate     DateTime
  motherOccupation    String
  motherEducation     String
  motherSalary        String
  schoolOrigin        String
  departent           String
  receipt             String //URL kwitansi

  user    User        @relation(fields: [userId], references: [id])
}

model Document {
  id          Int     @id @default(autoincrement())
  userId      Int
  ktp         String
  kartukeluarga          String
  ijazah        String
  sktl         String //URL file
  anotherfile   String

  user    User    @relation(fields: [userId], references: [id])
}